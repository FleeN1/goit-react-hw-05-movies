"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[171],{460:function(e,t,n){n.d(t,{Z:function(){return f}});var r,c=n(668),a=n(689),u=n(731),i=n(168),s=n(444).ZP.li(r||(r=(0,i.Z)(["\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\nwidth: 100%;\n\n  &:hover,\n  &:focus {\n    transform: scale(1.03);\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25), 0 7px 10px rgba(0, 0, 0, 0.15);\n  }"]))),o=n(184),p=function(e){var t=e.movie,n=(0,a.TH)(),r=t.id,i=t.poster_path,p=t.title;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s,{children:(0,o.jsxs)(u.OL,{to:"/movies/".concat(r),state:{from:n},children:[(0,o.jsx)("img",{src:i?c.p+i:c.b,width:"160px",alt:p}),(0,o.jsx)("p",{children:p})]})})})},f=function(e){var t=e.movies;return(0,o.jsx)("div",{children:(0,o.jsx)("ul",{children:t.map((function(e){return(0,o.jsx)(p,{movie:e},e.id)}))})})}},668:function(e,t,n){n.d(t,{b:function(){return c},p:function(){return r}});var r="https://www.themoviedb.org/t/p/w500",c="https://en-images.kinorium.com/movie/1080/1662246.jpg?1556722314"},171:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(861),c=n(885),a=n(757),u=n.n(a),i=n(521),s=n(460),o=n(791),p=n(596),f=n(184);function l(e){var t=e.getSearchQuery,n=(0,o.useState)(""),r=(0,c.Z)(n,2),a=r[0],u=r[1];return(0,f.jsx)("div",{children:(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===a.trim?p.Am.error("Please enter a new word"):t(a),u("")},children:[(0,f.jsx)("input",{name:"input",value:a,type:"text",onChange:function(e){u(e.target.value.toLowerCase())},placeholder:"Poisk Filmikov"}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})})}var v,d=n(731),h=n(390),m=n(168),x=n(444).ZP.div(v||(v=(0,m.Z)(["\ndisplay: flex;\ngap: 5px;\nalign-items: center;\njustify-content: center;\nflex-direction: row;\n"]))),g=function(){var e,t=(0,o.useState)([]),n=(0,c.Z)(t,2),a=n[0],v=n[1],m=(0,o.useState)(""),g=(0,c.Z)(m,2),w=g[0],Z=g[1],b=(0,o.useState)("idle"),y=(0,c.Z)(b,2),j=y[0],k=y[1],_=(0,d.lr)(),P=(0,c.Z)(_,2),S=P[0],C=P[1],L=null!==(e=S.get("query"))&&void 0!==e?e:"";(0,o.useEffect)((function(){function e(){return(e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k("pending"),e.next=4,(0,h.in)(L);case 4:t=e.sent,v(t),k("resolved"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),k("rejected"),(0,p.Am)(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}""!==L&&function(){e.apply(this,arguments)}()}),[L]),(0,o.useEffect)((function(){function e(){return(e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k("pending"),e.next=4,(0,h.in)(w);case 4:t=e.sent,v(t),k("resolved"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),k("rejected"),(0,p.Am)(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}""!==w&&function(){e.apply(this,arguments)}()}),[w]);return(0,f.jsxs)(x,{children:[(0,f.jsx)(l,{getSearchQuery:function(e){Z(e.trim()),function(e){C(""!==e?{query:e}:{})}(e.trim())}}),a.length>0&&(0,f.jsx)(s.Z,{movies:a}),"pending"===j&&(0,f.jsx)(i.Z,{})]})}},390:function(e,t,n){n.d(t,{Bt:function(){return l},Y5:function(){return p},cu:function(){return s},in:function(){return o},uV:function(){return f}});var r=n(861),c=n(757),a=n.n(c),u=n(44);u.ZP.defaults.baseURL="https://api.themoviedb.org/3/";var i="941cb65a7dbaeeae793e2e0a05475118",s=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.ZP.get("trending/movie/week?api_key=".concat(i));case 3:return t=e.sent,e.abrupt("return",t.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({api_key:i,query:t}),e.prev=1,e.next=4,u.ZP.get("search/movie?".concat(n));case 4:return r=e.sent,e.abrupt("return",r.data.results);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.ZP.get("movie/".concat(t,"?api_key=").concat(i));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.ZP.get("movie/".concat(t,"/credits?api_key=").concat(i));case 3:return n=e.sent,e.abrupt("return",n.data.cast);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.ZP.get("movie/".concat(t,"/reviews?api_key=").concat(i));case 3:return n=e.sent,e.abrupt("return",n.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},168:function(e,t,n){function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=171.c2d9b734.chunk.js.map